services:
  - type: web
    name: telegram-contact-bot
    env: python
    region: frankfurt  # ÛŒØ§ singapore Ø¨Ø±Ø§ÛŒ Ø³Ø±Ø¹Øª Ø¨Ù‡ØªØ± Ø¨Ù‡ Ø§ÛŒØ±Ø§Ù†
    plan: free  # Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ø±Ø§ÛŒÚ¯Ø§Ù†
    
    # ğŸ”§ Ú©Ø§Ù…Ù†Ø¯Ù‡Ø§ÛŒ Ø¨ÛŒÙ„Ø¯ (Build Commands)
    buildCommand: |
      pip install --upgrade pip
      pip install -r requirements.txt
      echo "âœ… Build completed successfully"
    
    # ğŸš€ Ú©Ø§Ù…Ù†Ø¯ Ø§Ø³ØªØ§Ø±Øª (Start Command)
    startCommand: |
      python bot.py
      # ÛŒØ§ Ø§Ú¯Ø± Ø§Ø² gunicorn Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯:
      # gunicorn bot:app --bind 0.0.0.0:$PORT --workers 2 --threads 4 --timeout 120
    
    # ğŸ“ Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ
    rootDir: .  # Ø§Ú¯Ø± Ú©Ø¯Ù‡Ø§ Ø¯Ø± Ø±ÙˆØª Ù‡Ø³ØªÙ†Ø¯
    
    # ğŸ” Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ·ÛŒ
    envVars:
      - key: TELEGRAM_BOT_TOKEN
        sync: false
      - key: PORT
        value: 8443
      - key: PYTHON_VERSION
        value: 3.11.0
      - key: WEBHOOK_URL
        sync: false  # Ø¨Ø¹Ø¯ Ø§Ø² Ø¯Ù¾Ù„ÙˆÛŒ ØªÙ†Ø¸ÛŒÙ… Ù…ÛŒâ€ŒØ´ÙˆØ¯
      - key: DATABASE_URL  # Ø§Ú¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø¯Ø§Ø±ÛŒØ¯
        sync: false
      - key: IRAN_API_URL  # Ø§Ú¯Ø± Ø¨Ù‡ API Ø§ÛŒØ±Ø§Ù† ÙˆØµÙ„ Ù…ÛŒâ€ŒØ´ÙˆÛŒØ¯
        value: https://your-iranian-api.com
      - key: IRAN_API_KEY
        sync: false
    
    # âš™ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡
    autoDeploy: true  # Ø¨Ø§ Ù‡Ø± push Ø§ØªÙˆÙ…Ø§ØªÛŒÚ© Ø¢Ù¾Ø¯ÛŒØª Ø´ÙˆØ¯
    healthCheckPath: /health
    numInstances: 1
    
    # ğŸ—„ï¸ Ø§Ú¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
    # databases:
    #   - name: telegrambotdb
    #     databaseName: telegram_bot
    #     user: telegram_user
    #     plan: free
