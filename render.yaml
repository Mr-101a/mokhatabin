services:
  - type: web
    name: telegram-bot-simple
    env: python
    region: frankfurt
    plan: free
    branch: main
    
    # کامندهای بیلد
    buildCommand: |
      python --version
      pip install --upgrade pip
      pip install -r requirements.txt
      echo "✅ Dependencies installed successfully"
    
    # کامند استارت
    startCommand: python main.py
    
    # متغیرهای محیطی ضروری
    envVars:
      - key: TELEGRAM_BOT_TOKEN
        sync: false
        required: true
      - key: PORT
        value: 8443
      - key: WEBHOOK_URL
        sync: false
        generateValue: true
      - key: PYTHON_VERSION
        value: 3.11.0
    
    # تنظیمات پیشرفته
    autoDeploy: true
    healthCheckPath: /health
    healthCheckTimeout: 30
    disk:
      name: data
      mountPath: /data
      sizeGB: 1
    
    # اگر نیاز به Buildpack دارید
    # buildFilter:
    #   paths:
    #     - "requirements.txt"
    #     - "runtime.txt"
    #     - "main.py"
